import{d as T,r as C,N as F,j as K,k as U,o as i,c as u,a as b,F as y,t as V,H as q,P as z,y as o,G as P,K as j,f as v,w as E,b as $,A as S,D as R,E as G,_ as H}from"./entry.37c85000.js";import{b as M}from"./FormBuilder.e1ce4cde.js";import{f as I}from"./formEvents.1ab2da43.js";import{_ as J,a as Q}from"./langue.efbb750b.js";import{_ as W}from"./index.54946f0a.js";import{I as X}from"./Search.887af709.js";import{_ as Y}from"./FormItem.dc592ecb.js";import"./listFilters.9b39895c.js";import"./useConfigInject.58732bf7.js";import"./index.6a5f261a.js";import"./RightOutlined.1465a480.js";import"./index.cb11142e.js";import"./button.62af8ef2.js";import"./index.ff1f244c.js";import"./Form.55c6e749.js";import"./collapseMotion.d40d7f6b.js";import"./debounce.ba6c6e44.js";import"./BackButton.006f1c40.js";import"./index.2c750beb.js";import"./index.2793a51d.js";import"./Col.d66ce3c0.js";import"./responsiveObserve.d14d9088.js";import"./styleChecker.d57dbbf0.js";const Z={languagesData:{type:Array,default:()=>[],required:!0},listOfValues:{type:Array,default:()=>[]},rule:{type:Array,default:()=>[]},name:{type:String,required:!0},label:{type:String,default:()=>"",required:!0},disabled:{type:Boolean,default:()=>!1},readOnly:{type:Boolean,default:()=>!1},className:{type:String,default:()=>""},placeholder:{type:String,default:()=>""},relatedKey:{type:String,default:()=>null},type:{type:String,default:()=>""}},x=R(()=>G(()=>import("./TextEditor.3d5a59f8.js"),["./TextEditor.3d5a59f8.js","./entry.37c85000.js","./entry.cd939c7a.css","./TextEditor.b14f75d0.css"],import.meta.url).then(f=>f.default||f)),ee={class:"input-wrapper-lang"},ae={class:"label-item ant-form-item-label"},le=["title"],oe=["title"],te={key:0,class:"input-localized-mark"},se={key:1,class:"ant-form-item-control v-editor-item-control has-error"},ne={key:0,class:"ant-form-explain"},ie=T({__name:"LocaleTextfield",props:Z,emits:I(null).events,setup(f,{emit:O}){const t=f,_=C(!1),D=F().$i18n.locale.value,l=C([]),g=C(!1),{useClearValidate:N,useFormDataChange:L}=I(O);K(()=>{k()}),U(t,(e,s)=>{l.value=[],s&&k()});const k=()=>{let e=[];t.languagesData.forEach((s,p)=>{if(e.push({isoCode:s.isoCode,value:""}),t.listOfValues&&t.listOfValues.length>0){let r=t.listOfValues.find(c=>c.isoCode===s.isoCode);r&&(e[p]={isoCode:r.isoCode,value:r.value})}}),l.value=e,L(e,t.name)},h=(e,s)=>{if(e===0&&t.rule.length){if(l.value.findIndex(r=>r.value!="")==-1)return t.rule;{let r=(t.relatedKey?t.relatedKey+".":"")+t.name+"["+l.value.findIndex(c=>c.isoCode==s)+"].value";return console.log(r),N(r),[]}}else return[]},w=()=>{let e=Object.assign([],t.languagesData);const s=e.findIndex(p=>p.isoCode==D);return s>0&&e.splice(1,0,...e.splice(0,s)),e};return(e,s)=>{const p=W,r=x,c=M,A=X,B=Y;return i(),u("div",ee,[b("div",ae,[b("label",{class:y(e.rule&&e.rule.length>0?"ant-form-item-required":"")},V(e.label),3),q(b("div",{class:"lang-btn font-sf-bold",onClick:s[0]||(s[0]=()=>_.value=!o(_))},[o(_)?(i(),u("img",{key:0,src:J,class:"gloab-btn-icon",type:"global",alt:"Icon lang",title:e.$t("languageSelect")},null,8,le)):(i(),u("img",{key:1,src:Q,class:"gloab-btn-icon closed-icon",type:"global",alt:"Icon lang",title:e.$t("languageSelect")},null,8,oe))],512),[[z,e.languagesData.length>1]])]),o(l)&&o(l).length>0?(i(),u("div",te,[(i(!0),u(P,null,j(w().filter((n,d)=>o(_)&&d==d||d==0),(n,d)=>(i(),v(B,{key:d,class:"model-item-wrapper",label:n.isoCode,rules:h(d,n.isoCode),name:e.relatedKey?e.relatedKey+"."+e.name+"["+o(l).findIndex(a=>a.isoCode==n.isoCode)+"].value":e.name+"["+o(l).findIndex(a=>a.isoCode==n.isoCode)+"].value"},{default:E(()=>[e.type=="textarea"?(i(),v(p,{key:0,value:o(l).find(a=>a.isoCode==n.isoCode).value,"onUpdate:value":a=>o(l).find(m=>m.isoCode==n.isoCode).value=a,disabled:e.disabled,placeholder:e.placeholder,"read-only":e.readOnly,class:y(e.className)},null,8,["value","onUpdate:value","disabled","placeholder","read-only","class"])):e.type=="editor"?(i(),u("div",se,[$(c,{placeholder:"Loading..."},{default:E(()=>[(i(),v(r,{key:"superinput"+e.name,"default-value":o(l).find(a=>a.isoCode==n.isoCode).value,disabled:e.disabled,"read-only":e.readOnly,class:y(e.className),placeholder:e.placeholder,onVEditChanged:a=>{g.value=!0,o(l).find(m=>m.isoCode==n.isoCode).value=a}},null,8,["default-value","disabled","read-only","class","placeholder","onVEditChanged"]))]),_:2},1024),h(d).length>0&&o(g)?(i(),u("div",ne,V(h(d)[0].message),1)):S("",!0)])):(i(),v(A,{key:2,value:o(l).find(a=>a.isoCode==n.isoCode).value,"onUpdate:value":a=>o(l).find(m=>m.isoCode==n.isoCode).value=a,placeholder:e.placeholder,disabled:e.disabled,"read-only":e.readOnly,class:y(e.className)},null,8,["value","onUpdate:value","placeholder","disabled","read-only","class"]))]),_:2},1032,["label","rules","name"]))),128))])):S("",!0)])}}});const we=H(ie,[["__scopeId","data-v-856d92a0"]]);export{we as default};
